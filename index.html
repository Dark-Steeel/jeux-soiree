<!-- Mise à jour forcée -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeux de Soirée</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <h1 class="fade-in">Bienvenue aux Jeux de Soirée !</h1>
    
    <audio id="challengeSound" src="challenge-sound.mp3"></audio>
    
    <div class="game-container slide-in">
        <h2>Mode Multijoueur</h2>
        <p>Ajoutez les joueurs et jouez à tour de rôle !</p>
        <input type="text" id="playerName" placeholder="Entrez le nom du joueur">
        <button class="pulse" onclick="addPlayer()">Ajouter le joueur</button>
        <p id="playersList">Joueurs: Aucun</p>
        <button class="pulse" onclick="nextPlayer()">Joueur suivant</button>
        <p id="currentPlayer">Le jeu va commencer...</p>
        <h3>Classement</h3>
        <ul id="scoreBoard"></ul>
    </div>
    
    <div class="game-container slide-in">
        <h2>Action ou Vérité</h2>
        <p id="truthOrDare">Cliquez sur le bouton pour jouer.</p>
        <button class="pulse" onclick="playTruthOrDare()">Jouer</button>
        <button class="pulse" onclick="addPoint()">+1 Point</button>
    </div>
    
    <script>
        let players = [];
        let currentPlayerIndex = 0;
        let scores = {};
        
        function playSound() {
            document.getElementById("challengeSound").play();
        }
        
        function addPlayer() {
            const playerName = document.getElementById("playerName").value.trim();
            if (playerName !== "" && !players.includes(playerName)) {
                players.push(playerName);
                scores[playerName] = 0;
                document.getElementById("playerName").value = "";
                updatePlayersList();
                updateScoreBoard();
            }
        }
        
        function updatePlayersList() {
            document.getElementById("playersList").innerText = "Joueurs: " + players.join(", ");
        }
        
        function updateScoreBoard() {
            let scoreboard = document.getElementById("scoreBoard");
            scoreboard.innerHTML = "";
            let sortedPlayers = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);
            sortedPlayers.forEach(player => {
                let li = document.createElement("li");
                li.innerText = `${player}: ${scores[player]} points`;
                scoreboard.appendChild(li);
            });
        }
        
        function nextPlayer() {
            if (players.length > 0) {
                currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
                document.getElementById("currentPlayer").innerText = "C'est au tour de " + players[currentPlayerIndex] + " de jouer!";
            } else {
                document.getElementById("currentPlayer").innerText = "Ajoutez des joueurs pour commencer.";
            }
        }
        
        function addPoint() {
            if (players.length > 0) {
                let currentPlayer = players[currentPlayerIndex];
                scores[currentPlayer] += 1;
                updateScoreBoard();
            }
        }
        
        function playTruthOrDare() {
            const questions = [
                "Action : Danse sur une chanson au hasard !",
                "Vérité : As-tu déjà menti à un ami proche ?",
                "Action : Envoie un message embarrassant à quelqu'un !",
                "Vérité : Quel est ton plus grand secret ?"
            ];
            
            const randomIndex = Math.floor(Math.random() * questions.length);
            document.getElementById("truthOrDare").innerText = questions[randomIndex];
            playSound();
        }
    </script>
</body>
</html>
